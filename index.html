<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>ixtlan users</title>
  </head>
  <body>
    <h2>security and privacy</h2>

    <p>with a standard rails application I do need some extra work to get it more secure. this template tries to do that extra work for you. after a nice security is in place some we can install some gems which helps to keep person related data well protected:
    </p>
    <ul>
      <li>keep the person related data on the server, i.e. <a href="https://github.com/mkristian/ixtlan-errors">ixtlan-errors</a> and <a href="https://github.com/mkristian/ixtlan-audit">ixtlan-audit</a></li>
      <li>expire person related data after some time, i.e. <a href="https://github.com/mkristian/ixtlan-errors">ixtlan-errors</a> and <a href="https://github.com/mkristian/ixtlan-audit">ixtlan-audit</a></li>
      <li>tell the browser how to cache person related date (:public, :protected, :private), see <a href="https://github.com/mkristian/ixtlan-core">ixtlan-core</a></li>
      <li>tell the browser how to protect against some attack vectors, see <a href="https://github.com/mkristian/ixtlan-core">ixtlan-core</a>)</li>
      <li>tell the proxies between the browser and the server how to cache data, see <a href="https://github.com/mkristian/ixtlan-core">ixtlan-core</a></li>
      <li>expire the browser session after some idle time. for different user groups can have different timeouts, i.e. admins get a short timeout period and even bind their session to the remote IP and browser signature. see <a href="https://github.com/mkristian/ixtlan-session-idle-timeout">ixtlan-session-idle-timeout</a></li>
      <li>guard the action an user can perform on the server (controller#action in rails speak) to allow only authorized users to access certain person data. see <a href="https://github.com/mkristian/ixtlan-guard">ixtlan-guard</a></li>
      <li>enforce SSL for <b>all</b> communication, to protect the data over the wire and prevent session highjacking with tools like firesheep. see <a href="https://github.com/mkristian/enforce-ssl">enforce-ssl</a></li>
      <li>no defaults passwords</li>
      <li>production passwords are only on the productions server and <b>NOT</b> on git. see  <a href="https://github.com/mkristian/ixtlan-core">ixtlan-core</a>, i.e. <i>RAILS_ROOT/config/*.yml.example</i></li>
    </ul>

    <h2>rails templates</h2>
    <p>
      the rails templates below will setup a rails application which uses
      <a href="https://github.com/mkristian/ixtlan-users">ixtlan-users</a> as authentication server. all the above
      issues will be (more or less) addressed.
    </p>

    <h3>ixtlan client with GWT frontend and erb templates</h3>
    <p>
    since rails version 3.0.10 rails generates jruby Gemfiles when using jruby. this leaves out the MRI part. using JRuby with this template produces for some reasons a <i>Segmentation fault</i>. but once installed JRuby is used for development and for production you can choose either JRuby or MRI !
    </p>
    <blockquote>
      use MRI !!!
      <pre><code>
$ rails _3.0.11_ new my_app -m http://mkristian.github.com/ixtlan-users/ixtlan-gwt.rb GWT_MODULE=com.example.gwt
      </code></pre>
    </blockquote>

    <h3>start the development shell</h3>

    <p>
      first you need to setup your environment so the project specific
      binstubs can be found. either in your  terminal or add it to <i>~/.bashrc</i> or <i>~/.profile</i>.
    </p>
    
    <blockquote>
      <pre><code>
$ export PATH=$PATH:./target/bin
      </code></pre>
    </blockquote>

    <p>
    beside MRI you need Java (1.6 or higher) installed. now you can go into the application directory and start the shell.
    </p>
    
    <blockquote>
      <pre><code>
$ cd my_app
$ gwt run
      </code></pre>
    </blockquote>

    <h3>start the development shell with remote login</h3>

    <p>
    for this you need to start the rails server of <b>ixtlan-users</i>. then
    you can use the <b>SSO=true</b> environment variable to launch the
    GWT shell with remote login.
    </p>

    <h4>remote users server for authentication</h4>

    <p>
    first checkout the <a href="http://github.com/mkristian/ixtlan-users">ixtlan-users</a> and setup the application:
    </p>

    <blockquote>
      <pre><code>
$ git clone
$ cd ixtlan-users
$ bundle install
$ rake db:migrate db:seed
$ rails server
      </code></pre>
    </blockquote>

    <h4>starting gwt with remote authentication</h4>

    <blockquote>
      <pre><code>
$ SSO=true gwt run
      </code></pre>
    </blockquote>

    <!--p>
    using <b>ruby-maven</b> gem also has some <b>bugs</b> but the following works:
    </p>
    
    <blockquote>
      use MRI !!!
      <pre><code>
$ gem install ruby-maven
$ gwt new my_app com.example.gwt --menu --session
$ cd my_app
$ rake rails:template LOCATION=http://mkristian.github.com/ixtlan-users/ixtlan-gwt.rb
      </code></pre>
    </blockquote-->
    
  </body>
</html>
